<div class="trm-contacts-creator">
    <form #form="ngForm" novalidate (ngSubmit)="submit(form.value)">
      <mat-card>
        <mat-card-title-group>
          <img mat-card-md-image alt="Placeholder image" src="assets/images/placeholder.png">
          <mat-card-title></mat-card-title>
          <mat-card-subtitle></mat-card-subtitle>
        </mat-card-title-group>
        <mat-card-content>
          <div fxLayout="column">
            <mat-form-field fxFlex [color]="name.errors ? 'warn': 'primary'">
              <input 
                matInput 
                placeholder="Name" 
                name="name" 
                required 
                #name="ngModel"
                minlength="3" 
                ngModel>

                <mat-hint *ngIf="!name.valid && !name.pristine">
                  <ng-container *ngIf="name.errors?.required">
                    This field is required
                  </ng-container>

                  <ng-container *ngIf="name.errors?.minlength">
                    A name must be at least {{ name.errors.minlength.requiredLength }} characters
                  </ng-container>
                </mat-hint>
            </mat-form-field>
            <mat-form-field fxFlex [color]="email.errors ? 'warn' : 'primary'">
              <input 
                matInput
                trmValidateEmail
                placeholder="Email" 
                name="email"
                #email="ngModel" 
                ngModel>

                <mat-hint align="end" *ngIf="!email.valid && !email.pristine && !email.untouched">
                  <ng-container *ngIf="email.errors?.validateEmail">
                    Please enter a valid email
                  </ng-container>
                </mat-hint>
            </mat-form-field>

            <mat-form-field fxFlex>
              <input matInput placeholder="Birthday" name="birthday" type="date" ngModel>
            </mat-form-field>
            <mat-form-field fxFlex>
              <input matInput placeholder="Phone" name="phone" ngModel>
            </mat-form-field>
            <mat-form-field fxFlex>
              <input matInput placeholder="Website" name="website" ngModel>
            </mat-form-field>
            <mat-radio-group align="left" placeholder="Gender" name="gender" ngModel>
              <mat-radio-button *ngFor="let gender of genders"  [value]="gender">
                {{ gender }}
              </mat-radio-button>
            </mat-radio-group>
            <fieldset fxLayout="column">
              <legend>Address</legend>
              <mat-form-field fxFlex>
                <input matInput placeholder="Street" name="street" ngModel>
              </mat-form-field>
              <mat-form-field fxFlex>
                <input matInput placeholder="Zip" name="zip" ngModel>
              </mat-form-field>
              <mat-form-field fxFlex>
                <input matInput placeholder="City" name="city" ngModel>
              </mat-form-field>
              <mat-select placeholder="Country" name="country" ngModel>
                <mat-option *ngFor="let country of countries" [value]="country.name">{{ country.name }}</mat-option>
              </mat-select>
            </fieldset>
          </div>
        </mat-card-content>
        <mat-card-actions fxLayout fxLayoutAlign="center center">
          <button mat-button type="submit" [disabled]="!form.valid">Save</button>
          <a routerLink="/" mat-button title="Cancel creating new contact">Cancel</a>
        </mat-card-actions>
      </mat-card>
    </form>
  </div> 